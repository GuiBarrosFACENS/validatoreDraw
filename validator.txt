fkaStep
09:56:08.732[thread-5] INFO    c.s.m.infra.logger.LoggerChuckListener  :  :  : Before chunk processing: sendKafkaStep
09:56:08.735[thread-5] INFO    c.s.m.infra.logger.LoggerChuckListener  :  :  : After chunk processing: sendKafkaStep
09:56:08.736[    main] ERROR         o.s.batch.core.step.AbstractStep  :  :  : Encountered an error executing step sendKafkaStep in job processJob
org.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 4 in resource=[file [C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\.\runtime-files\arquivo-segmento]], input=[0330022316989T 03308480130002571        82414200012032621669970072111050620240000000000000000333084800338621669970072111173  002007689002000189AMSDUAH K.A                             01300025710000000000000004748475247                      004928369]
	at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:198)
	at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:93)
	at org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:108)
	at org.springframework.batch.core.step.item.SimpleChunkProvider.read(SimpleChunkProvider.java:182)
	at org.springframework.batch.core.step.item.SimpleChunkProvider.lambda$provide$0(SimpleChunkProvider.java:132)
	at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:369)
	at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:206)
	at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:140)
	at org.springframework.batch.core.step.item.SimpleChunkProvider.provide(SimpleChunkProvider.java:127)
	at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:69)
	at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:388)
	at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:312)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:255)
	at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)
	at org.springframework.batch.repeat.support.TaskExecutorRepeatTemplate$ExecutingRunnable.run(TaskExecutorRepeatTemplate.java:261)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.lang.StringIndexOutOfBoundsException: begin 248, end 253, length 249
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:4608)
	at java.base/java.lang.String.substring(String.java:2711)
	at com.santander.app.mapper.impl.StringParserImpl.parse(StringParserImpl.java:11)
	at com.santander.app.mapper.impl.StringParserImpl.parse(StringParserImpl.java:6)
	at com.santander.domain.command.SerializeObjectCommand.execute(SerializeObjectCommand.java:21)
	at com.santander.domain.command.PositionalFieldProcessor.invokeFieldSetter(PositionalFieldProcessor.java:57)
	at com.santander.domain.command.PositionalFieldProcessor.lambda$process$1(PositionalFieldProcessor.java:31)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at com.santander.domain.command.PositionalFieldProcessor.process(PositionalFieldProcessor.java:31)
	at com.santander.domain.command.PositionalFieldProcessor.lambda$process$0(PositionalFieldProcessor.java:27)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at com.santander.domain.command.PositionalFieldProcessor.process(PositionalFieldProcessor.java:23)
	at com.santander.mpa.app.mapper.impl.LineMapperImpl.convert(LineMapperImpl.java:23)
	at com.santander.mpa.infra.config.JobBatchConfiguration.lambda$fileSegmentsItemReader$0(JobBatchConfiguration.java:59)
	at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:194)
	at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:93)
	at org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:108)
	at org.springframework.batch.core.step.item.SimpleChunkProvider.read(SimpleChunkProvider.java:182)
	at org.springframework.batch.core.step.item.SimpleChunkProvider.lambda$provide$0(SimpleChunkProvider.java:132)
	at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:369)
	at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:206)
	at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:140)
	at org.springframework.batch.core.step.item.SimpleChunkProvider.provide(SimpleChunkProvider.java:127)
	at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:69)
	at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:388)
	at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:312)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:255)
	at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)
	at org.springframework.batch.repeat.support.TaskExecutorRepeatTemplate$ExecutingRunnable.run(TaskExecutorRepeatTemplate.java:261)
09:56:08.738[    main] INFO   c.s.mpa.infra.logger.LoggerStepListener  :  :  : Step has completed with status: FAILED
09:56:08.739[    main] INFO          o.s.batch.core.step.AbstractStep  :  :  : Step: [sendKafkaStep] executed in 44ms
09:56:08.747[    main] INFO       o.s.b.c.l.support.SimpleJobLauncher  :  :  : Job: [SimpleJob: [name=processJob]] completed with the following parameters: [{'run.id':'{value=1, type=class java.lang.Long, identifying=true}'}] and the following status: [FAILED] in 351ms
09:56:08.764[    main] INFO        com.zaxxer.hikari.HikariDataSource  :  :  : HikariPool-1 - Shutdown initiated...
09:56:08.766[    main] INFO        com.zaxxer.hikari.HikariDataSource  :  :  : HikariPool-1 - Shutdown completed.

Process finished with exit code 5
