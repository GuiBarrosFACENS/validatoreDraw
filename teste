package com.santander.mpa.infra.config;

import com.fasterxml.jackson.annotation.JsonAutoDetect;
import com.fasterxml.jackson.annotation.PropertyAccessor;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;
import com.santander.extractor.config.CustomPropertiesExtratorConfiguration;
import com.santander.extractor.utils.ExtractorAdvice;
import com.santander.mpa.app.dto.InvoicePaymentFileDTO;
import com.santander.mpa.app.service.KafkaWriterCustomService;
import com.santander.mpa.domain.command.impl.VerifyingDigitCalculatorCommandImpl;
import com.santander.mpa.domain.entity.InvoicePaymentFile;
import com.santander.mpa.domain.usecase.impl.NumericBarCodeBuilderUseCaseImpl;
import com.santander.mpa.domain.usecase.impl.VerifyingDigitCalculatorUseCaseImpl;
import com.santander.mpa.infra.logger.LoggerChuckListener;
import com.santander.mpa.infra.logger.LoggerStepListener;
import com.santander.mpa.infra.mapper.LineMapper;
import lombok.AllArgsConstructor;
import org.springframework.batch.core.*;
import org.springframework.batch.core.job.builder.JobBuilder;
import org.springframework.batch.core.launch.JobLauncher;
import org.springframework.batch.core.repository.JobRepository;
import org.springframework.batch.core.step.builder.StepBuilder;
import org.springframework.batch.item.ItemProcessor;
import org.springframework.batch.item.file.FlatFileItemReader;
import org.springframework.batch.item.file.builder.FlatFileItemReaderBuilder;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.context.properties.EnableConfigurationProperties;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Profile;
import org.springframework.core.io.ClassPathResource;
import org.springframework.core.task.SimpleAsyncTaskExecutor;
import org.springframework.core.task.TaskExecutor;
import org.springframework.scheduling.annotation.EnableScheduling;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.transaction.PlatformTransactionManager;

@Configuration
@AllArgsConstructor
@ComponentScan(basePackages = {"com.santander.mpa","com.santander.extractor"})
@EnableConfigurationProperties(CustomPropertiesExtratorConfiguration.class)
@EnableScheduling
public class BatchConfiguration {

  @Autowired
  private JobLauncher jobLauncher;

  @Autowired
  private Job job;

  @Bean
  @Profile("!test")
  public FlatFileItemReader<InvoicePaymentFileDTO> flatFileItemReader(LineMapper lineMapper) {
    return new FlatFileItemReaderBuilder<InvoicePaymentFileDTO>()
        .resource(new ClassPathResource("s3-bucket/arquivo-retorno-teste.txt"))
        .lineMapper((line, lineNumber) -> lineMapper.convert(line))
        .name("readerFile")
        .build();
  }

  @Bean
  public Step sendKafkaStep(
      JobRepository jobRepository,
      FlatFileItemReader<InvoicePaymentFileDTO> flatFileItemReader,
      ItemProcessor<InvoicePaymentFileDTO, InvoicePaymentFile> itemProcessorCustomService,
      KafkaWriterCustomService kafkaWriterCustomService,
      PlatformTransactionManager transactionManager,
      TaskExecutor taskExecutor,
      StepExecutionListener stepExecutionListener,
      ChunkListener chunkListener) {
    StepBuilder stepBuilder = new StepBuilder("sendKafkaStep", jobRepository);

    return stepBuilder
        .<InvoicePaymentFileDTO, InvoicePaymentFile>chunk(5000, transactionManager)
        .reader(flatFileItemReader)
        .processor(itemProcessorCustomService)
        .writer(kafkaWriterCustomService)
        //        .taskExecutor(taskExecutor)
        .listener(stepExecutionListener)
        .listener(chunkListener)
        .build();
  }

  @Bean
  public Job job(JobRepository jobRepository, Step sendKafkaStep) {
    return new JobBuilder("job", jobRepository).start(sendKafkaStep).build();
  }

  @Scheduled(cron = "0 * * * * ?")
  public void perform() throws Exception{
    JobParameters parameters = new JobParametersBuilder()
            .addString("JobID", String.valueOf(System.currentTimeMillis()))
            .toJobParameters();
    jobLauncher.run(job,parameters);
  }

  @Bean
  public ObjectMapper objectMapper() {
    ObjectMapper objectMapper = new ObjectMapper();
    objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);
    objectMapper.registerModule(new JavaTimeModule());
    objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);
    return objectMapper;
  }

  /* TODO: Verificar o que fazer com o multithread  */
  @Bean
  public TaskExecutor taskExecutor() {
    SimpleAsyncTaskExecutor asyncTaskExecutor = new SimpleAsyncTaskExecutor("spring_batch");
    asyncTaskExecutor.setConcurrencyLimit(5);
    return asyncTaskExecutor;
  }

  @Bean
  public StepExecutionListener stepExecutionListener(ExtractorAdvice extractorAdvice) {
    return new LoggerStepListener(extractorAdvice);
  }

  @Bean
  public ChunkListener chunkListener() {
    return new LoggerChuckListener();
  }

  @Bean
  public VerifyingDigitCalculatorUseCaseImpl verifyingDigitCalculatorUseCaseImpl() {
    return new VerifyingDigitCalculatorUseCaseImpl();
  }

  @Bean
  public VerifyingDigitCalculatorCommandImpl verifyingDigitCalculatorCommandImpl(
      VerifyingDigitCalculatorUseCaseImpl verifyingDigitCalculatorUseCaseImpl) {
    return new VerifyingDigitCalculatorCommandImpl(verifyingDigitCalculatorUseCaseImpl);
  }

  @Bean
  public NumericBarCodeBuilderUseCaseImpl numericBarCodeBuilderUseCaseImpl(
      VerifyingDigitCalculatorCommandImpl verifyingDigitCalculatorCommandImpl) {
    return new NumericBarCodeBuilderUseCaseImpl(verifyingDigitCalculatorCommandImpl);
  }
}

---



]C:\dev-tools-santander\jdk\jdk-17.0.10_windows-x64_bin\jdk-17.0.10\bin\java.exe -javaagent:C:\Users\X297629\Downloads\ideaIC-2024.1.1.win\lib\idea_rt.jar=63401:C:\Users\X297629\Downloads\ideaIC-2024.1.1.win\bin -Dfile.encoding=UTF-8 -classpath C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\target\classes;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-starter-batch\3.2.4\spring-boot-starter-batch-3.2.4.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-starter\3.2.4\spring-boot-starter-3.2.4.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot\3.2.4\spring-boot-3.2.4.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-starter-logging\3.2.4\spring-boot-starter-logging-3.2.4.jar;C:\Users\X297629\.m2\repository\org\apache\logging\log4j\log4j-to-slf4j\2.21.1\log4j-to-slf4j-2.21.1.jar;C:\Users\X297629\.m2\repository\org\apache\logging\log4j\log4j-api\2.21.1\log4j-api-2.21.1.jar;C:\Users\X297629\.m2\repository\org\slf4j\jul-to-slf4j\2.0.12\jul-to-slf4j-2.0.12.jar;C:\Users\X297629\.m2\repository\org\yaml\snakeyaml\2.2\snakeyaml-2.2.jar;C:\Users\X297629\.m2\repository\org\springframework\batch\spring-batch-core\5.1.1\spring-batch-core-5.1.1.jar;C:\Users\X297629\.m2\repository\org\springframework\batch\spring-batch-infrastructure\5.1.1\spring-batch-infrastructure-5.1.1.jar;C:\Users\X297629\.m2\repository\io\micrometer\micrometer-core\1.12.4\micrometer-core-1.12.4.jar;C:\Users\X297629\.m2\repository\org\hdrhistogram\HdrHistogram\2.1.12\HdrHistogram-2.1.12.jar;C:\Users\X297629\.m2\repository\org\latencyutils\LatencyUtils\2.0.3\LatencyUtils-2.0.3.jar;C:\Users\X297629\.m2\repository\org\springframework\kafka\spring-kafka\3.1.3\spring-kafka-3.1.3.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-context\6.1.5\spring-context-6.1.5.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-messaging\6.1.5\spring-messaging-6.1.5.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-tx\6.1.5\spring-tx-6.1.5.jar;C:\Users\X297629\.m2\repository\org\springframework\retry\spring-retry\2.0.5\spring-retry-2.0.5.jar;C:\Users\X297629\.m2\repository\org\apache\kafka\kafka-clients\3.6.1\kafka-clients-3.6.1.jar;C:\Users\X297629\.m2\repository\com\github\luben\zstd-jni\1.5.5-1\zstd-jni-1.5.5-1.jar;C:\Users\X297629\.m2\repository\org\lz4\lz4-java\1.8.0\lz4-java-1.8.0.jar;C:\Users\X297629\.m2\repository\org\xerial\snappy\snappy-java\1.1.10.5\snappy-java-1.1.10.5.jar;C:\Users\X297629\.m2\repository\org\slf4j\slf4j-api\2.0.12\slf4j-api-2.0.12.jar;C:\Users\X297629\.m2\repository\io\micrometer\micrometer-observation\1.12.4\micrometer-observation-1.12.4.jar;C:\Users\X297629\.m2\repository\io\micrometer\micrometer-commons\1.12.4\micrometer-commons-1.12.4.jar;C:\Users\X297629\.m2\repository\com\google\code\findbugs\jsr305\3.0.2\jsr305-3.0.2.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-starter-jdbc\3.2.4\spring-boot-starter-jdbc-3.2.4.jar;C:\Users\X297629\.m2\repository\com\zaxxer\HikariCP\5.0.1\HikariCP-5.0.1.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-jdbc\6.1.5\spring-jdbc-6.1.5.jar;C:\Users\X297629\.m2\repository\com\santander\mpa\sbr-parser-filelibrary\0.2.0-SNAPSHOT\sbr-parser-filelibrary-0.2.0-20240708.182540-2.jar;C:\Users\X297629\.m2\repository\com\santander\commons-extrator-helper\2.0.1\commons-extrator-helper-2.0.1.jar;C:\Users\X297629\.m2\repository\ch\qos\logback\logback-classic\1.4.14\logback-classic-1.4.14.jar;C:\Users\X297629\.m2\repository\ch\qos\logback\logback-core\1.4.14\logback-core-1.4.14.jar;C:\Users\X297629\.m2\repository\org\codehaus\jackson\jackson-mapper-asl\1.9.13\jackson-mapper-asl-1.9.13.jar;C:\Users\X297629\.m2\repository\org\codehaus\jackson\jackson-core-asl\1.9.13\jackson-core-asl-1.9.13.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-web\6.1.5\spring-web-6.1.5.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-autoconfigure\3.2.4\spring-boot-autoconfigure-3.2.4.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-webmvc\6.1.5\spring-webmvc-6.1.5.jar;C:\Users\X297629\.m2\repository\jakarta\servlet\jakarta.servlet-api\6.0.0\jakarta.servlet-api-6.0.0.jar;C:\Users\X297629\.m2\repository\com\santander\commons-extrator-telemetry-helper\1.0.0\commons-extrator-telemetry-helper-1.0.0.jar;C:\Users\X297629\.m2\repository\com\amazonaws\aws-java-sdk-s3\1.12.731\aws-java-sdk-s3-1.12.731.jar;C:\Users\X297629\.m2\repository\com\amazonaws\aws-java-sdk-kms\1.12.731\aws-java-sdk-kms-1.12.731.jar;C:\Users\X297629\.m2\repository\com\amazonaws\aws-java-sdk-core\1.12.731\aws-java-sdk-core-1.12.731.jar;C:\Users\X297629\.m2\repository\commons-logging\commons-logging\1.1.3\commons-logging-1.1.3.jar;C:\Users\X297629\.m2\repository\commons-codec\commons-codec\1.16.1\commons-codec-1.16.1.jar;C:\Users\X297629\.m2\repository\org\apache\httpcomponents\httpclient\4.5.13\httpclient-4.5.13.jar;C:\Users\X297629\.m2\repository\com\fasterxml\jackson\dataformat\jackson-dataformat-cbor\2.15.4\jackson-dataformat-cbor-2.15.4.jar;C:\Users\X297629\.m2\repository\joda-time\joda-time\2.12.7\joda-time-2.12.7.jar;C:\Users\X297629\.m2\repository\com\amazonaws\jmespath-java\1.12.731\jmespath-java-1.12.731.jar;C:\Users\X297629\.m2\repository\com\h2database\h2\2.2.224\h2-2.2.224.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\s3\2.24.9\s3-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\aws-xml-protocol\2.24.9\aws-xml-protocol-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\aws-query-protocol\2.24.9\aws-query-protocol-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\protocol-core\2.24.9\protocol-core-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\arns\2.24.9\arns-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\profiles\2.24.9\profiles-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\crt-core\2.24.9\crt-core-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\http-auth\2.24.9\http-auth-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\identity-spi\2.24.9\identity-spi-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\http-auth-spi\2.24.9\http-auth-spi-2.24.9.jar;C:\Users\X297629\.m2\repository\org\reactivestreams\reactive-streams\1.0.4\reactive-streams-1.0.4.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\http-auth-aws\2.24.9\http-auth-aws-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\checksums\2.24.9\checksums-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\checksums-spi\2.24.9\checksums-spi-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\sdk-core\2.24.9\sdk-core-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\auth\2.24.9\auth-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\eventstream\eventstream\1.0.1\eventstream-1.0.1.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\http-client-spi\2.24.9\http-client-spi-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\regions\2.24.9\regions-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\annotations\2.24.9\annotations-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\utils\2.24.9\utils-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\aws-core\2.24.9\aws-core-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\metrics-spi\2.24.9\metrics-spi-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\json-utils\2.24.9\json-utils-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\third-party-jackson-core\2.24.9\third-party-jackson-core-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\endpoints-spi\2.24.9\endpoints-spi-2.24.9.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\apache-client\2.24.9\apache-client-2.24.9.jar;C:\Users\X297629\.m2\repository\org\apache\httpcomponents\httpcore\4.4.16\httpcore-4.4.16.jar;C:\Users\X297629\.m2\repository\software\amazon\awssdk\netty-nio-client\2.24.9\netty-nio-client-2.24.9.jar;C:\Users\X297629\.m2\repository\io\netty\netty-codec-http\4.1.107.Final\netty-codec-http-4.1.107.Final.jar;C:\Users\X297629\.m2\repository\io\netty\netty-codec-http2\4.1.107.Final\netty-codec-http2-4.1.107.Final.jar;C:\Users\X297629\.m2\repository\io\netty\netty-codec\4.1.107.Final\netty-codec-4.1.107.Final.jar;C:\Users\X297629\.m2\repository\io\netty\netty-transport\4.1.107.Final\netty-transport-4.1.107.Final.jar;C:\Users\X297629\.m2\repository\io\netty\netty-common\4.1.107.Final\netty-common-4.1.107.Final.jar;C:\Users\X297629\.m2\repository\io\netty\netty-buffer\4.1.107.Final\netty-buffer-4.1.107.Final.jar;C:\Users\X297629\.m2\repository\io\netty\netty-handler\4.1.107.Final\netty-handler-4.1.107.Final.jar;C:\Users\X297629\.m2\repository\io\netty\netty-transport-native-unix-common\4.1.107.Final\netty-transport-native-unix-common-4.1.107.Final.jar;C:\Users\X297629\.m2\repository\io\netty\netty-transport-classes-epoll\4.1.107.Final\netty-transport-classes-epoll-4.1.107.Final.jar;C:\Users\X297629\.m2\repository\io\netty\netty-resolver\4.1.107.Final\netty-resolver-4.1.107.Final.jar;C:\Users\X297629\.m2\repository\com\santander\ars\gln-back-arsenal-backend-api-starter\3.10.0\gln-back-arsenal-backend-api-starter-3.10.0.jar;C:\Users\X297629\.m2\repository\org\springframework\cloud\spring-cloud-starter-openfeign\4.1.0\spring-cloud-starter-openfeign-4.1.0.jar;C:\Users\X297629\.m2\repository\org\springframework\cloud\spring-cloud-starter\4.1.0\spring-cloud-starter-4.1.0.jar;C:\Users\X297629\.m2\repository\org\springframework\cloud\spring-cloud-context\4.1.0\spring-cloud-context-4.1.0.jar;C:\Users\X297629\.m2\repository\org\springframework\security\spring-security-rsa\1.1.1\spring-security-rsa-1.1.1.jar;C:\Users\X297629\.m2\repository\org\bouncycastle\bcprov-jdk18on\1.74\bcprov-jdk18on-1.74.jar;C:\Users\X297629\.m2\repository\org\springframework\cloud\spring-cloud-openfeign-core\4.1.0\spring-cloud-openfeign-core-4.1.0.jar;C:\Users\X297629\.m2\repository\io\github\openfeign\form\feign-form-spring\3.8.0\feign-form-spring-3.8.0.jar;C:\Users\X297629\.m2\repository\io\github\openfeign\form\feign-form\3.8.0\feign-form-3.8.0.jar;C:\Users\X297629\.m2\repository\org\springframework\cloud\spring-cloud-commons\4.1.0\spring-cloud-commons-4.1.0.jar;C:\Users\X297629\.m2\repository\io\github\openfeign\feign-core\13.1\feign-core-13.1.jar;C:\Users\X297629\.m2\repository\io\github\openfeign\feign-slf4j\13.1\feign-slf4j-13.1.jar;C:\Users\X297629\.m2\repository\org\springdoc\springdoc-openapi-starter-webmvc-ui\2.0.2\springdoc-openapi-starter-webmvc-ui-2.0.2.jar;C:\Users\X297629\.m2\repository\org\springdoc\springdoc-openapi-starter-webmvc-api\2.0.2\springdoc-openapi-starter-webmvc-api-2.0.2.jar;C:\Users\X297629\.m2\repository\org\springdoc\springdoc-openapi-starter-common\2.0.2\springdoc-openapi-starter-common-2.0.2.jar;C:\Users\X297629\.m2\repository\io\swagger\core\v3\swagger-core-jakarta\2.2.7\swagger-core-jakarta-2.2.7.jar;C:\Users\X297629\.m2\repository\io\swagger\core\v3\swagger-annotations-jakarta\2.2.7\swagger-annotations-jakarta-2.2.7.jar;C:\Users\X297629\.m2\repository\io\swagger\core\v3\swagger-models-jakarta\2.2.7\swagger-models-jakarta-2.2.7.jar;C:\Users\X297629\.m2\repository\com\fasterxml\jackson\dataformat\jackson-dataformat-yaml\2.15.4\jackson-dataformat-yaml-2.15.4.jar;C:\Users\X297629\.m2\repository\org\webjars\swagger-ui\4.15.5\swagger-ui-4.15.5.jar;C:\Users\X297629\.m2\repository\org\webjars\webjars-locator-core\0.55\webjars-locator-core-0.55.jar;C:\Users\X297629\.m2\repository\io\github\classgraph\classgraph\4.8.149\classgraph-4.8.149.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-starter-actuator\3.2.4\spring-boot-starter-actuator-3.2.4.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-actuator-autoconfigure\3.2.4\spring-boot-actuator-autoconfigure-3.2.4.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-actuator\3.2.4\spring-boot-actuator-3.2.4.jar;C:\Users\X297629\.m2\repository\io\micrometer\micrometer-jakarta9\1.12.4\micrometer-jakarta9-1.12.4.jar;C:\Users\X297629\.m2\repository\org\apache\maven\maven-model\3.9.4\maven-model-3.9.4.jar;C:\Users\X297629\.m2\repository\org\codehaus\plexus\plexus-utils\3.5.1\plexus-utils-3.5.1.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-spring-boot2\2.1.0\resilience4j-spring-boot2-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-spring\2.1.0\resilience4j-spring-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-annotations\2.1.0\resilience4j-annotations-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-consumer\2.1.0\resilience4j-consumer-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-core\2.1.0\resilience4j-core-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-circularbuffer\2.1.0\resilience4j-circularbuffer-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-framework-common\2.1.0\resilience4j-framework-common-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-micrometer\2.1.0\resilience4j-micrometer-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-bulkhead\2.1.0\resilience4j-bulkhead-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-circuitbreaker\2.1.0\resilience4j-circuitbreaker-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-retry\2.1.0\resilience4j-retry-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-ratelimiter\2.1.0\resilience4j-ratelimiter-2.1.0.jar;C:\Users\X297629\.m2\repository\io\github\resilience4j\resilience4j-timelimiter\2.1.0\resilience4j-timelimiter-2.1.0.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-starter-aop\3.2.4\spring-boot-starter-aop-3.2.4.jar;C:\Users\X297629\.m2\repository\org\aspectj\aspectjweaver\1.9.21\aspectjweaver-1.9.21.jar;C:\Users\X297629\.m2\repository\org\junit\jupiter\junit-jupiter-api\5.10.2\junit-jupiter-api-5.10.2.jar;C:\Users\X297629\.m2\repository\org\opentest4j\opentest4j\1.3.0\opentest4j-1.3.0.jar;C:\Users\X297629\.m2\repository\org\junit\platform\junit-platform-commons\1.10.2\junit-platform-commons-1.10.2.jar;C:\Users\X297629\.m2\repository\org\apiguardian\apiguardian-api\1.1.2\apiguardian-api-1.1.2.jar;C:\Users\X297629\.m2\repository\org\junit\jupiter\junit-jupiter-engine\5.10.2\junit-jupiter-engine-5.10.2.jar;C:\Users\X297629\.m2\repository\org\junit\platform\junit-platform-engine\1.10.2\junit-platform-engine-1.10.2.jar;C:\Users\X297629\.m2\repository\org\mockito\mockito-core\5.7.0\mockito-core-5.7.0.jar;C:\Users\X297629\.m2\repository\org\objenesis\objenesis\3.3\objenesis-3.3.jar;C:\Users\X297629\.m2\repository\org\mockito\mockito-junit-jupiter\5.7.0\mockito-junit-jupiter-5.7.0.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-test\6.1.5\spring-test-6.1.5.jar;C:\Users\X297629\.m2\repository\com\santander\ars\gln-back-arsenal-backend-error-starter\3.10.0\gln-back-arsenal-backend-error-starter-3.10.0.jar;C:\Users\X297629\.m2\repository\org\hibernate\orm\hibernate-core\6.4.4.Final\hibernate-core-6.4.4.Final.jar;C:\Users\X297629\.m2\repository\jakarta\persistence\jakarta.persistence-api\3.1.0\jakarta.persistence-api-3.1.0.jar;C:\Users\X297629\.m2\repository\jakarta\transaction\jakarta.transaction-api\2.0.1\jakarta.transaction-api-2.0.1.jar;C:\Users\X297629\.m2\repository\org\jboss\logging\jboss-logging\3.5.3.Final\jboss-logging-3.5.3.Final.jar;C:\Users\X297629\.m2\repository\org\hibernate\common\hibernate-commons-annotations\6.0.6.Final\hibernate-commons-annotations-6.0.6.Final.jar;C:\Users\X297629\.m2\repository\io\smallrye\jandex\3.1.2\jandex-3.1.2.jar;C:\Users\X297629\.m2\repository\com\fasterxml\classmate\1.6.0\classmate-1.6.0.jar;C:\Users\X297629\.m2\repository\jakarta\xml\bind\jakarta.xml.bind-api\4.0.2\jakarta.xml.bind-api-4.0.2.jar;C:\Users\X297629\.m2\repository\jakarta\activation\jakarta.activation-api\2.1.3\jakarta.activation-api-2.1.3.jar;C:\Users\X297629\.m2\repository\org\glassfish\jaxb\jaxb-runtime\4.0.5\jaxb-runtime-4.0.5.jar;C:\Users\X297629\.m2\repository\org\glassfish\jaxb\jaxb-core\4.0.5\jaxb-core-4.0.5.jar;C:\Users\X297629\.m2\repository\org\eclipse\angus\angus-activation\2.0.2\angus-activation-2.0.2.jar;C:\Users\X297629\.m2\repository\org\glassfish\jaxb\txw2\4.0.5\txw2-4.0.5.jar;C:\Users\X297629\.m2\repository\com\sun\istack\istack-commons-runtime\4.1.2\istack-commons-runtime-4.1.2.jar;C:\Users\X297629\.m2\repository\jakarta\inject\jakarta.inject-api\2.0.1\jakarta.inject-api-2.0.1.jar;C:\Users\X297629\.m2\repository\org\antlr\antlr4-runtime\4.13.0\antlr4-runtime-4.13.0.jar;C:\Users\X297629\.m2\repository\jakarta\validation\jakarta.validation-api\3.0.2\jakarta.validation-api-3.0.2.jar;C:\Users\X297629\.m2\repository\jakarta\annotation\jakarta.annotation-api\2.1.1\jakarta.annotation-api-2.1.1.jar;C:\Users\X297629\.m2\repository\org\hibernate\validator\hibernate-validator\8.0.1.Final\hibernate-validator-8.0.1.Final.jar;C:\Users\X297629\.m2\repository\org\hibernate\validator\hibernate-validator-annotation-processor\8.0.1.Final\hibernate-validator-annotation-processor-8.0.1.Final.jar;C:\Users\X297629\.m2\repository\org\springframework\security\spring-security-core\6.2.3\spring-security-core-6.2.3.jar;C:\Users\X297629\.m2\repository\org\springframework\security\spring-security-crypto\6.2.3\spring-security-crypto-6.2.3.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-starter-web\3.2.4\spring-boot-starter-web-3.2.4.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-starter-json\3.2.4\spring-boot-starter-json-3.2.4.jar;C:\Users\X297629\.m2\repository\com\fasterxml\jackson\module\jackson-module-parameter-names\2.15.4\jackson-module-parameter-names-2.15.4.jar;C:\Users\X297629\.m2\repository\org\springframework\boot\spring-boot-starter-tomcat\3.2.4\spring-boot-starter-tomcat-3.2.4.jar;C:\Users\X297629\.m2\repository\org\apache\tomcat\embed\tomcat-embed-core\10.1.19\tomcat-embed-core-10.1.19.jar;C:\Users\X297629\.m2\repository\org\apache\tomcat\embed\tomcat-embed-el\10.1.19\tomcat-embed-el-10.1.19.jar;C:\Users\X297629\.m2\repository\org\apache\tomcat\embed\tomcat-embed-websocket\10.1.19\tomcat-embed-websocket-10.1.19.jar;C:\Users\X297629\.m2\repository\com\santander\ars\gln-back-arsenal-backend-telemetry-log-starter\3.10.0\gln-back-arsenal-backend-telemetry-log-starter-3.10.0.jar;C:\Users\X297629\.m2\repository\org\apache\directory\server\apacheds-kerberos-codec\2.0.0.AM27\apacheds-kerberos-codec-2.0.0.AM27.jar;C:\Users\X297629\.m2\repository\org\apache\directory\server\apacheds-i18n\2.0.0.AM27\apacheds-i18n-2.0.0.AM27.jar;C:\Users\X297629\.m2\repository\org\apache\directory\api\api-asn1-api\2.1.5\api-asn1-api-2.1.5.jar;C:\Users\X297629\.m2\repository\org\apache\directory\api\api-asn1-ber\2.1.5\api-asn1-ber-2.1.5.jar;C:\Users\X297629\.m2\repository\org\apache\directory\api\api-i18n\2.1.5\api-i18n-2.1.5.jar;C:\Users\X297629\.m2\repository\org\apache\directory\api\api-ldap-model\2.1.5\api-ldap-model-2.1.5.jar;C:\Users\X297629\.m2\repository\org\apache\mina\mina-core\2.2.3\mina-core-2.2.3.jar;C:\Users\X297629\.m2\repository\org\apache\servicemix\bundles\org.apache.servicemix.bundles.antlr\2.7.7_5\org.apache.servicemix.bundles.antlr-2.7.7_5.jar;C:\Users\X297629\.m2\repository\org\apache\commons\commons-collections4\4.4\commons-collections4-4.4.jar;C:\Users\X297629\.m2\repository\org\apache\directory\api\api-util\2.1.5\api-util-2.1.5.jar;C:\Users\X297629\.m2\repository\com\github\ben-manes\caffeine\caffeine\3.1.8\caffeine-3.1.8.jar;C:\Users\X297629\.m2\repository\com\squareup\okio\okio-jvm\3.6.0\okio-jvm-3.6.0.jar;C:\Users\X297629\.m2\repository\org\jetbrains\kotlin\kotlin-stdlib-jdk8\1.9.23\kotlin-stdlib-jdk8-1.9.23.jar;C:\Users\X297629\.m2\repository\org\jetbrains\kotlin\kotlin-stdlib\1.9.23\kotlin-stdlib-1.9.23.jar;C:\Users\X297629\.m2\repository\org\jetbrains\annotations\13.0\annotations-13.0.jar;C:\Users\X297629\.m2\repository\org\jetbrains\kotlin\kotlin-stdlib-jdk7\1.9.23\kotlin-stdlib-jdk7-1.9.23.jar;C:\Users\X297629\.m2\repository\org\jetbrains\kotlin\kotlin-stdlib-common\1.9.23\kotlin-stdlib-common-1.9.23.jar;C:\Users\X297629\.m2\repository\ch\qos\logback\logback-access\1.4.14\logback-access-1.4.14.jar;C:\Users\X297629\.m2\repository\net\logstash\logback\logstash-logback-encoder\7.4\logstash-logback-encoder-7.4.jar;C:\Users\X297629\.m2\repository\com\fasterxml\jackson\core\jackson-annotations\2.15.4\jackson-annotations-2.15.4.jar;C:\Users\X297629\.m2\repository\com\fasterxml\jackson\core\jackson-databind\2.15.4\jackson-databind-2.15.4.jar;C:\Users\X297629\.m2\repository\org\codehaus\janino\janino\3.1.12\janino-3.1.12.jar;C:\Users\X297629\.m2\repository\org\codehaus\janino\commons-compiler\3.1.12\commons-compiler-3.1.12.jar;C:\Users\X297629\.m2\repository\javax\xml\bind\jaxb-api\2.3.0\jaxb-api-2.3.0.jar;C:\Users\X297629\.m2\repository\io\jsonwebtoken\jjwt\0.9.1\jjwt-0.9.1.jar;C:\Users\X297629\.m2\repository\commons-beanutils\commons-beanutils\1.9.4\commons-beanutils-1.9.4.jar;C:\Users\X297629\.m2\repository\commons-collections\commons-collections\3.2.2\commons-collections-3.2.2.jar;C:\Users\X297629\.m2\repository\info\cukes\cucumber-html\0.2.6\cucumber-html-0.2.6.jar;C:\Users\X297629\.m2\repository\br\com\santander\dynatrace\otl\SantanderDynatraceOtl\1.3.9\SantanderDynatraceOtl-1.3.9.jar;C:\Users\X297629\.m2\repository\org\jodd\jodd\3.3.4\jodd-3.3.4.jar;C:\Users\X297629\.m2\repository\com\dynatrace\metric\util\dynatrace-metric-utils-java\1.4.0\dynatrace-metric-utils-java-1.4.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-sdk-metrics\1.31.0\opentelemetry-sdk-metrics-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-sdk-common\1.31.0\opentelemetry-sdk-common-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-extension-incubator\1.31.0-alpha\opentelemetry-extension-incubator-1.31.0-alpha.jar;C:\Users\X297629\.m2\repository\io\opentracing\opentracing-api\0.33.0\opentracing-api-0.33.0.jar;C:\Users\X297629\.m2\repository\io\opentracing\opentracing-mock\0.33.0\opentracing-mock-0.33.0.jar;C:\Users\X297629\.m2\repository\io\opentracing\opentracing-noop\0.33.0\opentracing-noop-0.33.0.jar;C:\Users\X297629\.m2\repository\io\opentracing\opentracing-util\0.33.0\opentracing-util-0.33.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-api\1.31.0\opentelemetry-api-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-context\1.31.0\opentelemetry-context-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-exporter-otlp\1.31.0\opentelemetry-exporter-otlp-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-sdk-trace\1.31.0\opentelemetry-sdk-trace-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-sdk-logs\1.31.0\opentelemetry-sdk-logs-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-api-events\1.31.0-alpha\opentelemetry-api-events-1.31.0-alpha.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-exporter-otlp-common\1.31.0\opentelemetry-exporter-otlp-common-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-exporter-common\1.31.0\opentelemetry-exporter-common-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-exporter-sender-okhttp\1.31.0\opentelemetry-exporter-sender-okhttp-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-sdk-extension-autoconfigure-spi\1.31.0\opentelemetry-sdk-extension-autoconfigure-spi-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-sdk\1.31.0\opentelemetry-sdk-1.31.0.jar;C:\Users\X297629\.m2\repository\com\squareup\okhttp3\okhttp\4.12.0\okhttp-4.12.0.jar;C:\Users\X297629\.m2\repository\com\squareup\okio\okio\3.6.0\okio-3.6.0.jar;C:\Users\X297629\.m2\repository\io\appium\java-client\7.5.0\java-client-7.5.0.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-java\4.14.1\selenium-java-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-chrome-driver\4.14.1\selenium-chrome-driver-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-chromium-driver\4.14.1\selenium-chromium-driver-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-manager\4.14.1\selenium-manager-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-devtools-v116\4.14.1\selenium-devtools-v116-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-devtools-v117\4.14.1\selenium-devtools-v117-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-devtools-v118\4.14.1\selenium-devtools-v118-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-devtools-v85\4.14.1\selenium-devtools-v85-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-edge-driver\4.14.1\selenium-edge-driver-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-firefox-driver\4.14.1\selenium-firefox-driver-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-http\4.14.1\selenium-http-4.14.1.jar;C:\Users\X297629\.m2\repository\dev\failsafe\failsafe\3.3.2\failsafe-3.3.2.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-ie-driver\4.14.1\selenium-ie-driver-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-remote-driver\4.14.1\selenium-remote-driver-4.14.1.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-exporter-logging\1.31.0\opentelemetry-exporter-logging-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-sdk-extension-autoconfigure\1.31.0\opentelemetry-sdk-extension-autoconfigure-1.31.0.jar;C:\Users\X297629\.m2\repository\io\opentelemetry\opentelemetry-semconv\1.28.0-alpha\opentelemetry-semconv-1.28.0-alpha.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-os\4.14.1\selenium-os-4.14.1.jar;C:\Users\X297629\.m2\repository\org\apache\commons\commons-exec\1.3\commons-exec-1.3.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-safari-driver\4.14.1\selenium-safari-driver-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-support\4.14.1\selenium-support-4.14.1.jar;C:\Users\X297629\.m2\repository\com\google\auto\service\auto-service-annotations\1.1.1\auto-service-annotations-1.1.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-json\4.14.1\selenium-json-4.14.1.jar;C:\Users\X297629\.m2\repository\org\seleniumhq\selenium\selenium-api\4.14.1\selenium-api-4.14.1.jar;C:\Users\X297629\.m2\repository\com\google\code\gson\gson\2.10.1\gson-2.10.1.jar;C:\Users\X297629\.m2\repository\cglib\cglib\3.3.0\cglib-3.3.0.jar;C:\Users\X297629\.m2\repository\com\jcraft\jsch\0.1.55\jsch-0.1.55.jar;C:\Users\X297629\.m2\repository\net\bytebuddy\byte-buddy\1.14.12\byte-buddy-1.14.12.jar;C:\Users\X297629\.m2\repository\net\bytebuddy\byte-buddy-agent\1.14.12\byte-buddy-agent-1.14.12.jar;C:\Users\X297629\.m2\repository\com\google\guava\guava\32.1.3-jre\guava-32.1.3-jre.jar;C:\Users\X297629\.m2\repository\com\google\guava\failureaccess\1.0.1\failureaccess-1.0.1.jar;C:\Users\X297629\.m2\repository\com\google\guava\listenablefuture\9999.0-empty-to-avoid-conflict-with-guava\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\Users\X297629\.m2\repository\org\checkerframework\checker-qual\3.37.0\checker-qual-3.37.0.jar;C:\Users\X297629\.m2\repository\com\google\errorprone\error_prone_annotations\2.21.1\error_prone_annotations-2.21.1.jar;C:\Users\X297629\.m2\repository\com\google\j2objc\j2objc-annotations\2.8\j2objc-annotations-2.8.jar;C:\Users\X297629\.m2\repository\org\ow2\asm\asm\9.4\asm-9.4.jar;C:\Users\X297629\.m2\repository\org\apache\commons\commons-lang3\3.13.0\commons-lang3-3.13.0.jar;C:\Users\X297629\.m2\repository\commons-fileupload\commons-fileupload\1.5\commons-fileupload-1.5.jar;C:\Users\X297629\.m2\repository\commons-io\commons-io\2.11.0\commons-io-2.11.0.jar;C:\Users\X297629\.m2\repository\org\springframework\security\spring-security-web\6.2.3\spring-security-web-6.2.3.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-core\6.1.5\spring-core-6.1.5.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-jcl\6.1.5\spring-jcl-6.1.5.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-aop\6.1.5\spring-aop-6.1.5.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-beans\6.1.5\spring-beans-6.1.5.jar;C:\Users\X297629\.m2\repository\org\springframework\spring-expression\6.1.5\spring-expression-6.1.5.jar;C:\Users\X297629\.m2\repository\com\fasterxml\jackson\datatype\jackson-datatype-jdk8\2.15.4\jackson-datatype-jdk8-2.15.4.jar;C:\Users\X297629\.m2\repository\commons-validator\commons-validator\1.7\commons-validator-1.7.jar;C:\Users\X297629\.m2\repository\commons-digester\commons-digester\2.1\commons-digester-2.1.jar;C:\Users\X297629\.m2\repository\com\fasterxml\jackson\datatype\jackson-datatype-jsr310\2.12.3\jackson-datatype-jsr310-2.12.3.jar;C:\Users\X297629\.m2\repository\com\fasterxml\jackson\core\jackson-core\2.15.4\jackson-core-2.15.4.jar;C:\Users\X297629\.m2\repository\org\projectlombok\lombok\1.18.24\lombok-1.18.24.jar;C:\Users\X297629\.m2\repository\org\mapstruct\mapstruct\1.4.2.Final\mapstruct-1.4.2.Final.jar com.santander.mpa.ArsenalApplication
Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts
17:34:41.563[-preinit] INFO       o.h.validator.internal.util.Version  :  :  : HV000001: Hibernate Validator 8.0.1.Final
17:34:41.679[    main] INFO      com.santander.mpa.ArsenalApplication  :  :  : Starting ArsenalApplication using Java 17.0.10 with PID 29716 (C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\target\classes started by X297629 in C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch)
17:34:41.681[    main] INFO      com.santander.mpa.ArsenalApplication  :  :  : No active profile set, falling back to 1 default profile: "default"
Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts
17:34:47.393[    main] INFO        com.zaxxer.hikari.HikariDataSource  :  :  : HikariPool-1 - Starting...
17:34:47.714[    main] INFO         com.zaxxer.hikari.pool.HikariPool  :  :  : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:e8fae8d4-0afa-4555-847c-14394568b370 user=SA
17:34:47.716[    main] INFO        com.zaxxer.hikari.HikariDataSource  :  :  : HikariPool-1 - Start completed.
17:34:47.795[    main] WARN  ConfigServletWebServerApplicationContext  :  :  : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'kafkaWriterCustomService' defined in file [C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\target\classes\com\santander\mpa\app\service\KafkaWriterCustomService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'kafkaProvider' defined in file [C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\target\classes\com\santander\mpa\infra\messageprovider\KafkaProvider.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'invoicePaymentPlardMapperImpl' defined in file [C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\target\classes\com\santander\mpa\infra\mapper\impl\InvoicePaymentPlardMapperImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'batchConfiguration' defined in file [C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\target\classes\com\santander\mpa\infra\config\BatchConfiguration.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'batchConfiguration': Requested bean is currently in creation: Is there an unresolvable circular reference?
17:34:47.796[    main] INFO        com.zaxxer.hikari.HikariDataSource  :  :  : HikariPool-1 - Shutdown initiated...
17:34:47.799[    main] INFO        com.zaxxer.hikari.HikariDataSource  :  :  : HikariPool-1 - Shutdown completed.
17:34:47.868[    main] ERROR   o.s.b.d.LoggingFailureAnalysisReporter  :  :  : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   kafkaWriterCustomService defined in file [C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\target\classes\com\santander\mpa\app\service\KafkaWriterCustomService.class]
      ↓
   kafkaProvider defined in file [C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\target\classes\com\santander\mpa\infra\messageprovider\KafkaProvider.class]
      ↓
   invoicePaymentPlardMapperImpl defined in file [C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\target\classes\com\santander\mpa\infra\mapper\impl\InvoicePaymentPlardMapperImpl.class]
┌─────┐
|  batchConfiguration defined in file [C:\dev-tools-santander\repositorio\sbr-monetar-invoicecnabbatch\target\classes\com\santander\mpa\infra\config\BatchConfiguration.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.


Process finished with exit code 1

